{% load static %}
<!-- Header -->
<header>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-md navbar-light fixed-top navbar-wrapper">
    <a class="navbar-brand" href="{% url 'home' %}"><img src="{% static 'images/WeLearn_Horizontal.svg' %}" alt="Logo"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="main-navbar">
      <div class="menu-nav">
        <ul>
          <li class="btn-catalog">
            <a href="/courses">
              <i></i>
              <span>Course Catalog</span>
            </a>
          </li>
        </ul>
      </div>
      <form class="d-flex my-2 my-lg-0 mr-auto ml-3" style="width: 40%">
        <input class="search-form simplebox form-control mr-sm-2" type="search" placeholder="Find a course..." aria-label="Search">
        <a class="search-btn" href="#"><i class="fa fa-search" aria-hidden="true"></i></a>
      </form>
      {% if user.is_authenticated %}
        <div class="side-left d-flex flex-row ml-auto align-self-stretch">
          <div class="create-btn">
            <ul><li><a class="align-self-center" href="{% url 'course-create' %}">Create a Course</a></li></ul>
          </div>
          <div class="profile-btn">
            <ul>
              <li>
              	<a class="align-self-center" href="/courses/learning">My Courses</a>
                <ul>
                  <li><a href="/courses/snippets/">Embeding snippet</a></li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="profile-btn">
            <ul>
              <li>
                <a href="/profile">
                  <img src="{% static 'images/user_profile_login_01.jpg' %}" alt="">
                  {{ user.get_short_name }}
                </a>
                <ul>
                  <li><a href="/courses/learning">My courses</a></li>
                  <li><a href="/courses/wish_list">Wish List</a></li>
                  <li><a href="/inbox/">Inbox</a></li>
                  <hr>
                  <li><a href="/payment">Learn Credits</a></li>
                  <li><a href="/profile">Settings</a></li>
                  <hr>
                  <li><a href="/help">Help</a></li>
                  <li><a href="/logout">Log Out</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      {% else %}
        <div class="user-group ml-auto">
          <div class="menu-nav">
            <ul>
              <li class="user-login">
                <a href="#" data-toggle="modal" data-target="#loginModal"><img src="{% static 'images/user-icon.png' %}" alt="">Login</a>
              </li>
              <li class="user-sign-up">
                <a href="#" data-toggle="modal" data-target="#signUpModal">Sign Up</a>
              </li>
            </ul>
          </div>
        </div>
      {% endif %}
    </div>
  </nav>

  <!--Modal Login-->
  <div id="loginModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <div class="modal-wrapper text-center">
            <h1>Start Learning</h1>
<!--             <a href="#" class="btn btn-general btn-blue"><i class="fa fa-facebook"></i><span>Login With FaceBook</span></a>
            <a href="#" class="btn btn-general btn-red"><i class="fa fa-google"></i><span>Login With Google</span></a>
            <a href="#" class="btn btn-general btn-light-blue"><i class="fa fa-linkedin"></i><span>Login With Linkedin</span></a>
            <hr class="or-divider"> -->
            <form method="POST" action="{% url 'rest_login' %}" success="/" class="ajax-post text-left">
              {% csrf_token %}
              <div class="form-group">
                <label class="font-weight-b" for="email">Email address:</label>
                <input name="username" type="email" class="form-control">
              </div>
              <div class="form-group">  
                <label class="font-weight-b" for="pwd">Password:</label>
                <input name="password" type="password" class="form-control">
              </div>
              <div class="checkbox">
                <label><input type="checkbox"> Remember me</label>
                <br>
                <a href="#">Forgot password ?</a>
              </div>
              <button type="submit" class="btn btn-general btn-submit"><span>Login</span></button>
            </form>
            <h3>Don't have an account? <a class="sign-up-link" href="#" data-toggle="modal" data-target="#signUpModal">Sign Up</a></h3>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Sign Up Modal -->
  <div id="signUpModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <div class="modal-wrapper text-center">
            <h1>Challenge Yourself</h1>
            <p>Share your knowledge. Make a difference. Build a following.</p>
<!--             <a href="#" class="btn btn-general btn-blue"><i class="fa fa-facebook"></i><span>Signup With FaceBook</span></a>
            <a href="#" class="btn btn-general btn-red"><i class="fa fa-google"></i><span>Signup With Google</span></a>
            <a href="#" class="btn btn-general btn-light-blue"><i class="fa fa-linkedin"></i><span>Signup With Linkedin</span></a>
            <hr class="or-divider"> -->
            <h4>Signup With Email</h4>
            <form method="POST" action="{% url 'rest_register' %}" success="/" class="text-left">
              {% csrf_token %}
              <div class="form-group">
                <label class="font-weight-b" for="username">User name:</label>
                <input name="username" type="username" class="form-control">
              </div>
              <div class="form-group">
                <label class="font-weight-b" for="email">Email address:</label>
                <input name="email" type="email" class="form-control">
              </div>
              <div class="form-group">
                <label class="font-weight-b" for="password1">Password:</label>
                <input name="password1" type="password" class="form-control">
              </div>
              <div class="form-group">
                <label class="font-weight-b" for="password2">Repeat Password:</label>
                <input name="password2" type="password" class="form-control">
              </div>
              <button type="submit" class="btn btn-general btn-submit"><span>Signup</span></button>
            </form>
            <h3>Already have an account? <a class="login-link" href="#" data-toggle="modal" data-target="#loginModal">Login</a></h3>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>