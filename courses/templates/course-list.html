{% extends 'base.html' %}
{% block content %}
<div class="container-fluid">
  {% if courses.count == 0 %}
  <div class="text-wrapper">
    <div class="text-center">
      <h1>Courses Unavailable</h1>
      <p>Please check back at a later time when the course become available.</p>
    </div>
  </div>
  {% else %}
  <!-- Courses -->
  <div class="text-wrapper">
    <div class="we-title d-flex justify-content-between align-items-center">
      <h2>Last Courses</h2>
    </div>
    <div class="card-deck">

      {% for course in courses %}
      <div class="col-md-3">
        <div class="card">
          {% if course.image != None and course.image != '' %}
          <img class="card-img-top" src="{{ course.image.url }}" alt="{{ course.title }}">
          {% else %}
          <p class="card-text text-center">Missing Image!</p>
          {% endif %}
          <div class="card-body">
            <h4 class="card-title"><a href="{% url 'course-detail' slug=course.slug %}" class="card-title">{{ course.title }}</a></h4>
            <p class="card-text">{{ course.headline }}</p>
            <a class="card-author" href="#" >John Crestani</a><span> | {{ course.students.count }} Students</span>
          </div> 
          <div class="card-footer d-flex flex-row justify-content-between align-items-center">
            <div class="card-course-name">
              <a href="#">{{ course.category }}</a>
            </div>
            <div class="card-right">
              <div class="rating">
                <span>15</span>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}

    </div>
  </div>
  <!-- /.Courses -->

  <!-- Pagination -->
  {% if courses.has_next %}
  <div class="panel-body text-right">
    <div class="pagination">
      <span class="step-links">
        <span class="current">
          Page {{ courses.number }} of {{ courses.paginator.num_pages }}.
        </span>

        {% if courses.has_previous %}
        <a href="?page={{ courses.previous_page_number }}"
        type="button"
        class="btn btn-lg btn-primary">Previous</a>
        {% endif %}

        {% if courses.has_next %}
        <a href="?page={{ courses.next_page_number }}"
        type="button"
        class="btn btn-lg btn-primary">Next</a>
        {% endif %}
      </span>
    </div>
  </div>
  {% endif %}
  <!-- /.Pagination -->

  {% endif %}
</div>
{% endblock content %}
